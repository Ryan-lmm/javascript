<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div style="cursor:pointer" class="container ">

    </div>
    <script>
       //http://api.themoviedb.org/3/movie/popular?api_key=506fadb0256c13349acc05dabebf9604&language=en-US&page=1

       fetch('http://api.themoviedb.org/3/movie/popular?api_key=506fadb0256c13349acc05dabebf9604&language=en-US&page=1')

       .then(response => response.json())
       .then(function(json){
            var container = document.querySelector('.container')

            json.results.map((val)=>{
                console.log(val)
                container.innerHTML +=`

                
                <div class="titulFilme verMenos">

                    `+val.backdrop_path+`
                    `+val.title+`
                    <div style="display:none"  class="description">
                        `+val.overview+`    
                    </div>
                    <hr>
                </div>
                `
            })
            
            var titulos = document.querySelectorAll('.titulFilme');
            var teste = document.querySelectorAll('verMenos');
            for(var i = 0; i < titulos.length; i++){
                titulos[i].addEventListener('click', function(t){
                    if(t.target.querySelector('.description').style.display == 'none'){
                        t.target.querySelector('.description').style.display = 'block';
                        teste.classList.add('verMenos') += innerHTML('mostrar menos')
                        teste.innerHTML = ('ver mais');
                    } else{
                        t.target.querySelector('.description').style.display = 'none';
                        teste.classList.remove('verMenos')
                        teste.innerHTML = ('ver menos')
                    }
                })
            }
       })



    </script>
</body>

</html>